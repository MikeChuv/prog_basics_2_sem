# Лабораторная работа № 9

### Постановка задачи.
Разработать программу для сортировки текстового файла, используя сортировку прямым слиянием и естественным слиянием. Измерить время, требуемое для сортировки файла разными способами. Подпрограммы сортировки реализовать в отдельном модуле. 
### Таблица данных
**Сортировка прямым слиянием** 
| **Класс** | **Имя**             | **Смысл**                  | **Тип**     | **Структура** |
|-----------|---------------------|----------------------------|-------------|---------------|
| Пром.     | writeOps1,writeOps2 | количество операций записи | цел.        | прост. перем. |
| Пром.     | value1,value2       | считываемые значения       | цел.        | прост. перем. |
| Пром.     | eof1, eof2          | флаги концов файлов        | лог.        | прост. перем. |
| Пром.     | series              | количество серий           | цел.        | прост. перем. |
| Пром.     | n                   | длина серий                | цел.        | прост. перем. |
| Пром.     | finTmp1, finTmp2    | временные файлы            | текст. файл | файл          |
| Входные   | fin                 | входной файл               | текст. файл | файл          |
| Выходные  | fout                | выходной файл              | текст. файл | файл          |


**Сортировка естественным слиянием** 
| **Класс** | **Имя**                                                | **Смысл**                  | **Тип**     | **Структура** |
|-----------|--------------------------------------------------------|----------------------------|-------------|---------------|
| Пром.     | writeOps1,writeOps2                                    | количество операций записи | цел.        | прост. перем. |
| Пром.     | currentValue, nextValue, newCurrentValue, newNextValue | считываемые значения       | цел.        | прост. перем. |
| Пром.     | eof1, eof2                                             | флаги концов файлов        | лог.        | прост. перем. |
| Пром.     | series                                                 | количество серий           | цел.        | прост. перем. |
| Пром.     | n                                                      | длина серий                | цел.        | прост. перем. |
| Пром.     | finTmp1, finTmp2                                       | временные файлы            | текст. файл | файл          |
| Входные   | fin                                                    | входной файл               | текст. файл | файл          |
| Выходные  | fout                                                   | выходной файл              | текст. файл | файл          |
| Пром.     | endOfSeries1, endOfSeries2                             | флаги концов серий         | лог.        | прост. перем. |
| Пром.     | ordered                                                | флаг упорядоченности       | лог.        | прост. перем. |

### Входная форма
В файле должны быть только целые числа, которые должны разделяться пробелами или переводами строки. После последнего числа не должно быть никаких лишних знаков. 
### Выходная форма
Остортированные целые числа через пробел
### Тестовые примеры
|                               | directMerge | naturalMerge |
|-------------------------------|-------------|--------------|
| Forvard1000                   | 00.227      | 00.124       |
| Forvard5000                   | 00.271      | 00.092       |
| Forvard10000                  | 00.461      | 00.100       |
| Forvard20000                  | 00.739      | 00.117       |
| Backward1000                  | 00.164      | 00.195       |
| Backward5000                  | 00.348      | 00.306       |
| Backward10000                 | 00.445      | 00.434       |
| Backward20000                 | 00.760      | 00.728       |
| Random1000                    | 00.233      | 00.211       |
| Random5000                    | 00.273      | 00.290       |
| Random10000                   | 00.450      | 00.422       |
| Random20000                   | 00.741      | 00.741       |
| FilePartialOrderIntegers1000  | 00.187      | 00.215       |
| FilePartialOrderIntegers5000  | 00.307      | 00.179       |
| FilePartialOrderIntegers10000 | 00.446      | 00.206       |
| FilePartialOrderIntegers20000 | 00.730      | 00.253       |

### Метод
 **Сортировка прямым слиянием:** из исходного файла поочередно в два верменных файла записываем серии чисел по 1. Затем происходит слияние этих серий в выходной файл: первая серия из первого файла с первой серией из второго файла и т.д. Затем дописываются незавершенные серии. Значения из файла, который к этому моменту не закончился, записываются в конец выходного файла. Выходной файл делаем входным для следующего хода цикла. Затем все эти действия повторяются в цикле с сериями по 2 числа, 4, 8 и т.д. Завершаем цикл, если была одна полная серия или были только неполные серии.

**Сортировка естественным слиянием:** читаем серии неубывающих чисел и записываем первую серию в первый файл, вторую во второй и т.д. Затем происходит слияние новых серий в временных файлах в выходной файл соответственно: первая серия первого файла с первой серией второго файла и т.д. Если заканчивается серия, то остаток другой серии дописывается в выходной файл. Значения из файла, который к этому моменту не закончился, дозаписываются в конец выходного файла. Выходной файл делаем входным для следующего хода цикла. Повторяем те же самые действия, пока количество серий не станет 2 или меньше.